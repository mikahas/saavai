{"swagger":"2.0","info":{"description":"API docs for S채채 Vai weather logging application","version":"0.0.0","title":"S채채 Vai API"},"basePath":"/","tags":[{"name":"user","description":""},{"name":"weather","description":""}],"schemes":["http"],"securityDefinitions":{"bearer":{"type":"apiKey","name":"Authorization","in":"header"}},"paths":{"/":{"get":{"responses":{"200":{"description":""}},"produces":["application/json"],"consumes":["application/json"]}},"/ping":{"get":{"responses":{"200":{"description":"Ping - pong, check API heartbeat"}},"produces":["application/json"],"consumes":["application/json"]}},"/api/user/index":{"get":{"responses":{"200":{"description":"Fetch list of users","schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}},"tags":["user"],"security":[{"bearer":[]}],"produces":["application/json"],"consumes":["application/json"]}},"/api/user/register":{"post":{"parameters":[{"name":"CreateUserDto","required":true,"in":"body","schema":{"$ref":"#/definitions/CreateUserDto"}}],"responses":{"200":{"description":"Create a new user","schema":{"$ref":"#/definitions/User"}}},"tags":["user"],"produces":["application/json"],"consumes":["application/json"]}},"/api/user/me":{"get":{"responses":{"200":{"description":"Fetch current user information","schema":{"$ref":"#/definitions/User"}}},"tags":["user"],"security":[{"bearer":[]}],"produces":["application/json"],"consumes":["application/json"]}},"/api/user/login":{"post":{"summary":"Login","description":"Login and get token","parameters":[{"name":"UserCredentialsDto","required":true,"in":"body","schema":{"$ref":"#/definitions/UserCredentialsDto"}}],"responses":{"200":{"description":"Login successful.","schema":{"$ref":"#/definitions/TokenResponseDto"}},"401":{"description":"Login failed."}},"tags":["user"],"produces":["application/json"],"consumes":["application/json"]}},"/api/user/generate-api-key":{"post":{"responses":{"200":{"description":"Generated API key","schema":{"type":"string"}}},"tags":["user"],"security":[{"bearer":[]}],"produces":["application/json"],"consumes":["application/json"]}},"/api/weather/index":{"get":{"parameters":[{"type":"string","name":"range","required":false,"in":"query","enum":["year","month","week","day","hour"],"description":"Time period range"},{"type":"date","name":"from","required":false,"in":"query","description":"Starting date where time period will be calculated. Default is now."}],"responses":{"200":{"description":"Get weather entries from log for current user .","schema":{"type":"array","items":{"$ref":"#/definitions/Weather"}}}},"tags":["weather"],"security":[{"bearer":[]}],"produces":["application/json"],"consumes":["application/json"]}},"/api/weather":{"post":{"parameters":[{"name":"CreateDropDto","required":true,"in":"body","schema":{"$ref":"#/definitions/CreateDropDto"}}],"responses":{"200":{"description":"Create a new weather entry to log","schema":{"$ref":"#/definitions/Weather"}}},"tags":["weather"],"security":[{"bearer":[]}],"produces":["application/json"],"consumes":["application/json"]}},"/api/weather/log/{apiKey}":{"post":{"parameters":[{"name":"CreateDropDto","required":true,"in":"body","schema":{"$ref":"#/definitions/CreateDropDto"}}],"responses":{"200":{"description":"Create a new weather entry using token authentication"}},"tags":["weather"],"produces":["application/json"],"consumes":["application/json"]}}},"definitions":{"Date":{"type":"object","properties":{}},"User":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"},"createdAt":{"$ref":"#/definitions/Date"},"updatedAt":{"$ref":"#/definitions/Date"},"drops":{"type":"array","items":{"type":"string"}},"apiKey":{"type":"string"}},"required":["id","email","createdAt","updatedAt","drops","apiKey"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"UserCredentialsDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"TokenResponseDto":{"type":"object","properties":{"token":{"type":"string"},"expiresIn":{"type":"number"}},"required":["token","expiresIn"]},"Weather":{"type":"object","properties":{"id":{"type":"number"},"createdAt":{"$ref":"#/definitions/Date"},"updatedAt":{"type":"string"},"location":{"type":"string"},"user":{"type":""},"data":{"type":"object"}},"required":["id","createdAt","updatedAt","location","user","data"]},"CreateDropDto":{"type":"object","properties":{"location":{"type":"string"},"data":{"type":"object"},"createdAt":{"type":"string"}},"required":["location","data","createdAt"]}}}